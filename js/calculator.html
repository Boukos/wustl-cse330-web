<!DOCTYPE html>	
<html>	
<head>
	<meta charset="utf-8"/>
	<title>Calculator</title>
	<!--<link rel="stylesheet" type="text/css" href="cse330.css">-->
	
<script  type="text/javascript">
	document.addEventListener("DOMContentLoaded", function(){
		var cal = document.getElementsByName("cal");
		for (var i=0;i<cal.length;i++){
			cal[i].addEventListener('change', calculate, false);
		}
		
		var num = document.getElementsByName("num");
		for (var j=0;j<num.length;j++){
			num[j].addEventListener('change', calculate, false);
		}
	});
	
	function calculate(){
		var num1 = document.getElementById("num1").value;
		var num2 = document.getElementById("num2").value;
		if(num1 === null){
			num1 = "0";
			document.getElementById("num1").value = 0;
		}
		if(num2 === null){
			num2 = "0";
			document.getElementById("num2").value = 0;
		}
		
		var which_cal = checkCal();
		var res;
		if (which_cal=="add"){
			res = parseInt(num1)+parseInt(num2);
			document.getElementById("sign").textContent = "+";
		}
		else if	(which_cal=="sub"){
			res = num1-num2;
			document.getElementById("sign").textContent = "-";
		}
		else if	(which_cal=="mul"){
			res = num1*num2;
			document.getElementById("sign").textContent = "*";
		}
		else if	(which_cal=="div"){
			if(num2 !== "0"){ res = num1/num2;}
			else {
				if(num1 !== "0"){res = "Infinity";}
				else {res = "Undefined";}
			}
			document.getElementById("sign").textContent = "/";
		}
		else {
			alert("No calculation specified");
			res = "?";
		}
		document.getElementById("res").textContent = " = "+res;
	}
	
	function checkCal(){
		var radio_cal = document.getElementsByName("cal");
		var which_cal = null;
		for(var i=0; i<radio_cal.length; i++){
			if(radio_cal[i].checked){
				which_cal = radio_cal[i].value;  
				break;            
			}    
		}
		return which_cal;
	}  
</script>
	
</head>

<body>
	<div id="main">
	<h1>Calculator</h1>
	<input id="num1" name="num" type="number" value=0 />
	<span id="sign">?</span>
	<input id="num2" name="num" type="number" value=0 />
	<output id="res"></output>
	<ul>
		<li><label><input name="cal" type="radio" value="add" /> add</label>
		<li><label><input name="cal" type="radio" value="sub" /> sub</label>
		<li><label><input name="cal" type="radio" value="mul" /> mul</label>
		<li><label><input name="cal" type="radio" value="div" /> div</label>
	</ul>
	</div>
</body>			
</html>	